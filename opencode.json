{
  "$schema": "https://opencode.ai/config.json",
  "theme": "opencode",
  "autoupdate": true,
  "instructions": [],
  "mcp": {
    "honeycomb": {
      "type": "remote",
      "url": "https://mcp.honeycomb.io/mcp",
      "enabled": true,
      "oauth": false,
      "headers": {
        "Authorization": "Bearer ${HONEYCOMB_MCP}"
      }
    }
  },
  "tools": {
    "write": true,
    "edit": true,
    "bash": true,
    "read": true,
    "glob": true,
    "grep": true,
    "test-error": true
  },
  "command": {
    "beads-ready": {
      "template": "Check Beads for ready tasks and provide a summary of what's available to work on. Use 'bd ready --json' to get the current state of ready tasks.",
      "description": "List ready Beads tasks",
      "agent": "builder"
    },
    "beads-create": {
      "template": "Create a new Beads task with the title: $ARGUMENTS. Use appropriate priority and type flags. Format as 'bd create \"Task Title\" -p [priority] -t [type] --json'.",
      "description": "Create new Beads task",
      "agent": "builder"
    },
    "beads-close": {
      "template": "Close the specified Beads task(s). Use 'bd close $ARGUMENTS --reason \"Completed\" --json'. Make sure to include proper reasoning for the closure.",
      "description": "Close Beads tasks",
      "agent": "builder"
    },
    "beads-sync": {
      "template": "Synchronize Beads database with git. Run 'bd sync' to export pending changes to JSONL, commit to git, and push to remote if needed.",
      "description": "Sync Beads with git",
      "agent": "builder"
    },
    "beads-status": {
      "template": "Check the current status of Beads tasks. Use 'bd list --json' to show all current tasks and their states. Focus on in-progress and blocked items.",
      "description": "Check Beads task status",
      "agent": "builder"
    },
    "land-plane": {
      "template": "Land the plane: Complete ALL remaining work, run quality gates (lint/test if code changes), update Beads issues, sync with git, and push to remote. Follow the complete landing workflow ensuring git push succeeds and git status shows 'up to date'.",
      "description": "Complete session and push all changes",
      "agent": "builder"
    }
  },
  "compaction": {
    "auto": true,
    "prune": true
  },
  "watcher": {
    "ignore": ["node_modules/**", "dist/**", ".git/**", ".beads/beads.db"]
  },
  "agent": {
    "build": {
      "prompt": "{file:.opencode/prompts/orchestrator.md}"
    },
    "planner": {
      "mode": "subagent",
      "description": "Strategy and design specialist for architecture and implementation planning",
      "tools": {
        "write": true,
        "edit": true,
        "read": true,
        "glob": true,
        "grep": true,
        "bash": true
      },
      "permissions": {
        "write": "ask", 
        "edit": "ask",    
        "bash": "ask"
      }
    },
    "builder": {
      "mode": "subagent",
      "description": "Implementation specialist focused on writing high-quality code",
      "tools": {
        "write": true,
        "edit": true,
        "read": true,
        "glob": true,
        "grep": true,
        "bash": true
      },
      "permissions": {
        "bash": "ask"
      }
    },
    "reviewer": {
      "mode": "subagent",
      "description": "Code quality and security specialist for reviewing code and best practices",
      "tools": {
        "read": true,
        "glob": true,
        "grep": true,
        "bash": true
      },
      "permissions": {
        "write": false,
        "edit": false,
        "bash": "ask"
      }
    },
    "debugger": {
      "mode": "subagent",
      "description": "Problem diagnosis and troubleshooting specialist",
      "tools": {
        "read": true,
        "glob": true,
        "grep": true,
        "bash": true,
        "write": true,
        "edit": true
      },
      "permissions": {
        "bash": "ask",
        "write": "ask",
        "edit": "ask"
      }
    }
  },
  "permission": {
    "bash": {
      "*": "ask",
      "ls": "allow",
      "ls *": "allow",
      "pwd": "allow",
      "cd *": "allow",
      "cat *": "allow",
      "head *": "allow",
      "tail *": "allow",
      "less *": "allow",
      "more *": "allow",
      "grep *": "allow",
      "rg *": "allow",
      "find *": "allow",
      "fd *": "allow",
      "wc *": "allow",
      "file *": "allow",
      "which *": "allow",
      "whereis *": "allow",
      "type *": "allow",
      "echo *": "allow",
      "printf *": "allow",
      "env": "allow",
      "env *": "allow",
      "printenv": "allow",
      "printenv *": "allow",
      "date": "allow",
      "date *": "allow",
      "whoami": "allow",
      "hostname": "allow",
      "uname": "allow",
      "uname *": "allow",
      "tree": "allow",
      "tree *": "allow",
      "du *": "allow",
      "df *": "allow",
      "stat *": "allow",
      "realpath *": "allow",
      "dirname *": "allow",
      "basename *": "allow",
      "diff *": "allow",
      "comm *": "allow",
      "sort *": "allow",
      "uniq *": "allow",
      "cut *": "allow",
      "awk *": "allow",
      "sed *": "allow",
      "tr *": "allow",
      "xargs *": "allow",
      "tee *": "allow",
      "git status*": "allow",
      "git log*": "allow",
      "git diff*": "allow",
      "git show*": "allow",
      "git branch*": "allow",
      "git remote*": "allow",
      "git tag*": "allow",
      "git rev-parse*": "allow",
      "git rev-list*": "allow",
      "git ls-files*": "allow",
      "git ls-tree*": "allow",
      "git cat-file*": "allow",
      "git describe*": "allow",
      "git config --get*": "allow",
      "git config --list*": "allow",
      "git stash list*": "allow",
      "git blame*": "allow",
      "git shortlog*": "allow",
      "git reflog*": "allow",
      "bd list*": "allow",
      "bd ready*": "allow",
      "bd show*": "allow",
      "bd status*": "allow",
      "bd doctor*": "allow",
      "npm list*": "allow",
      "npm outdated*": "allow",
      "npm info*": "allow",
      "npm view*": "allow",
      "npm ls*": "allow",
      "npm explain*": "allow",
      "npm search*": "allow",
      "node --version*": "allow",
      "node -v*": "allow",
      "npm --version*": "allow",
      "npm -v*": "allow",
      "npx --version*": "allow",
      "bun --version*": "allow",
      "go version*": "allow",
      "elixir --version*": "allow",
      "mix --version*": "allow",
      "python --version*": "allow",
      "python3 --version*": "allow",
      "ruby --version*": "allow",
      "cargo --version*": "allow",
      "rustc --version*": "allow",
      "java --version*": "allow",
      "javac --version*": "allow",
      "jq *": "allow",
      "yq *": "allow",
      "curl --version*": "allow",
      "wget --version*": "allow"
    },
    "task": {
      "*": "ask",
      "planner": "allow",
      "builder": "allow",
      "reviewer": "allow",
      "debugger": "allow",
      "explore": "allow",
      "general": "allow"
    }
  }
}